(function(d){jQuery.fn.jplist.controls.DatePickerFilter={};jQuery.fn.jplist.controls.DatePickerFilter.render=function(a){var c,b={};c=a.controlTypeOptions;a.$control.off().change(function(){""===d.trim(d(this).val())&&(a.events.lastStatus=jQuery.fn.jplist.controls.DatePickerFilter.getStatus(!1,a),a.$jplistBox.trigger(a.options.force_ask_event,[!1]))});b.onSelect=function(b,c){a.events.lastStatus=jQuery.fn.jplist.controls.DatePickerFilter.getStatus(!1,a);a.$jplistBox.trigger(a.options.force_ask_event,
[!1])};c&&c.datepicker(a.$control,b)};jQuery.fn.jplist.controls.DatePickerFilter.getDeepLink=function(a){var c="",b;b=jQuery.fn.jplist.controls.DatePickerFilter.getStatus(!1,a);b.data&&d.isNumeric(b.data.year)&&(d.isNumeric(b.data.month)&&d.isNumeric(b.data.day))&&(c=a.name+"--year~month~day="+b.data.year+"~"+b.data.month+"~"+b.data.day);return c};jQuery.fn.jplist.controls.DatePickerFilter.getStatusByDeepLink=function(a,c,b){a=jQuery.fn.jplist.controls.DatePickerFilter.getStatus(!0,a);a.data&&"year~month~day"===
c&&(c=b.split("~"),3===c.length&&(a.data.year=c[0],a.data.month=c[1],a.data.day=c[2]));return a};jQuery.fn.jplist.controls.DatePickerFilter.getPaths=function(a,c){var b;if((b=a.$control.attr("data-path").toString())&&""!==d.trim(b))b=new jQuery.fn.jplist.models.Path(b,"datetime"),jQuery.fn.jplist.services.Path.isPathInList(b,c)||c.push(b)};jQuery.fn.jplist.controls.DatePickerFilter.getStatus=function(a,c){var b=null,e=null,d;d=c.$control.attr("data-datetime-format");if(e=c.$control.datepicker("getDate"))b=
{path:c.$control.attr("data-path"),filterType:"date",year:e.getFullYear(),month:e.getMonth(),day:e.getDate(),format:d},b=new jQuery.fn.jplist.models.Status(c.name,c.action,c.type,b,c.cookies);return b};jQuery.fn.jplist.controls.DatePickerFilter.setStatus=function(a,c,b){a.data&&(d.isNumeric(a.data.year)&&d.isNumeric(a.data.month)&&d.isNumeric(a.data.day))&&(a=new Date(a.data.year,a.data.month,a.data.day),c.$control.datepicker("setDate",a))};jQuery.fn.jplist.controls.DatePickerFilter.initEvents=function(a){}})(jQuery);(function(d){jQuery.fn.jplist.controls.DatePickerRangeFilter={};jQuery.fn.jplist.controls.DatePickerRangeFilter.statusRelatedData=function(a,c,b,e){a={path:a,format:c,filterType:"date_range",prev_year:"",prev_month:"",prev_day:"",next_year:"",next_month:"",next_day:""};b&&(a.prev_year=b.getFullYear(),a.prev_month=b.getMonth(),a.prev_day=b.getDate());e&&(a.next_year=e.getFullYear(),a.next_month=e.getMonth(),a.next_day=e.getDate());return a};jQuery.fn.jplist.controls.DatePickerRangeFilter.render=function(a){var c,
b={},e,f;c=a.controlTypeOptions;e=a.$control.find('[data-type="prev"]');f=a.$control.find('[data-type="next"]');a.$control.data("jplist-datepicker-range-prev",e);a.$control.data("jplist-datepicker-range-next",f);e.off().change(function(){""===d.trim(d(this).val())&&(a.events.lastStatus=jQuery.fn.jplist.controls.DatePickerRangeFilter.getStatus(!1,a),a.$jplistBox.trigger(a.options.force_ask_event,[!1]))});f.off().change(function(){""===d.trim(d(this).val())&&(a.events.lastStatus=jQuery.fn.jplist.controls.DatePickerRangeFilter.getStatus(!1,
a),a.$jplistBox.trigger(a.options.force_ask_event,[!1]))});b.onSelect=function(b,c){a.events.lastStatus=jQuery.fn.jplist.controls.DatePickerRangeFilter.getStatus(!1,a);a.$jplistBox.trigger(a.options.force_ask_event,[!1])};c&&(c.datepicker(e,b),c.datepicker(f,b))};jQuery.fn.jplist.controls.DatePickerRangeFilter.getDeepLink=function(a){var c="",b;b=jQuery.fn.jplist.controls.DatePickerRangeFilter.getStatus(!1,a);b.data&&(d.isNumeric(b.data.prev_year)&&(d.isNumeric(b.data.prev_month)&&d.isNumeric(b.data.prev_day))&&
(c+=a.name+"--prev="+b.data.prev_year+"~"+b.data.prev_month+"~"+b.data.prev_day),d.isNumeric(b.data.next_year)&&(d.isNumeric(b.data.next_month)&&d.isNumeric(b.data.next_day))&&(""!==c&&(c+="~~"),c+=a.name+"--next="+b.data.next_year+"~"+b.data.next_month+"~"+b.data.next_day));return c};jQuery.fn.jplist.controls.DatePickerRangeFilter.getStatusByDeepLink=function(a,c,b){a=jQuery.fn.jplist.controls.DatePickerRangeFilter.getStatus(!0,a);if(a.data)switch(c){case "prev":c=b.split("~");3===c.length&&(a.data.prev_year=
c[0],a.data.prev_month=c[1],a.data.prev_day=c[2]);break;case "next":c=b.split("~"),3===c.length&&(a.data.next_year=c[0],a.data.next_month=c[1],a.data.next_day=c[2])}return a};jQuery.fn.jplist.controls.DatePickerRangeFilter.getPaths=function(a,c){var b;if((b=a.$control.attr("data-path").toString())&&""!==d.trim(b))b=new jQuery.fn.jplist.models.Path(b,"datetime"),jQuery.fn.jplist.services.Path.isPathInList(b,c)||c.push(b)};jQuery.fn.jplist.controls.DatePickerRangeFilter.getStatus=function(a,c){var b=
null,e=b=b=null,d,h,g,k;k=c.$control.attr("data-path").toString();d=c.$control.attr("data-datetime-format").toString();h=c.$control.data("jplist-datepicker-range-prev");g=c.$control.data("jplist-datepicker-range-next");a||(b=h.datepicker("getDate"),e=g.datepicker("getDate"));b=jQuery.fn.jplist.controls.DatePickerRangeFilter.statusRelatedData(k,d,b,e);return b=new jQuery.fn.jplist.models.Status(c.name,c.action,c.type,b,c.cookies)};jQuery.fn.jplist.controls.DatePickerRangeFilter.setStatus=function(a,
c,b){var e;b=c.$control.data("jplist-datepicker-range-prev");c=c.$control.data("jplist-datepicker-range-next");d.isNumeric(a.data.prev_year)&&d.isNumeric(a.data.prev_month)&&d.isNumeric(a.data.prev_day)?(e=new Date(a.data.prev_year,a.data.prev_month,a.data.prev_day),b.datepicker("setDate",e)):b.val("");d.isNumeric(a.data.next_year)&&d.isNumeric(a.data.next_month)&&d.isNumeric(a.data.next_day)?(a=new Date(a.data.next_year,a.data.next_month,a.data.next_day),c.datepicker("setDate",a)):c.val("")}})(jQuery);(function(d){jQuery.fn.jplist.controls.RangeSlider={};jQuery.fn.jplist.controls.RangeSlider.statusRelatedData=function(a,c,b,d,f){return{path:a,type:"number",filterType:"range",min:c,max:b,prev:d,next:f}};jQuery.fn.jplist.controls.RangeSlider.render=function(a){var c=null,b=null,d=null,c=a.$control.find('[data-type="ui-slider"]'),b=a.$control.find('[data-type="prev-value"]'),d=a.$control.find('[data-type="next-value"]');a.$control.data("jplist-ui-slider",c);a.$control.data("jplist-prev-value",b);
a.$control.data("jplist-next-value",d);if(a=a.controlTypeOptions)a.ui_slider(c,b,d),a.set_values(c,b,d)};jQuery.fn.jplist.controls.RangeSlider.getDeepLink=function(a){var c="",b;b=jQuery.fn.jplist.controls.RangeSlider.getStatus(!1,a);b.data&&d.isNumeric(b.data.prev)&&d.isNumeric(b.data.next)&&(c=a.name+"--prev~next="+b.data.prev+"~"+b.data.next);return c};jQuery.fn.jplist.controls.RangeSlider.getStatusByDeepLink=function(a,c,b){a=jQuery.fn.jplist.controls.RangeSlider.getStatus(!0,a);a.data&&"prev~next"===
c&&(c=b.split("~"),2===c.length&&(a.data.prev=c[0],a.data.next=c[1]));return a};jQuery.fn.jplist.controls.RangeSlider.getPaths=function(a,c){var b;if((b=a.$control.attr("data-path").toString())&&""!==d.trim(b))b=new jQuery.fn.jplist.models.Path(b,"number"),jQuery.fn.jplist.services.Path.isPathInList(b,c)||c.push(b)};jQuery.fn.jplist.controls.RangeSlider.getStatus=function(a,c){var b=null,d,f,h,g;g=c.$control.data("jplist-ui-slider");b=c.$control.attr("data-path").toString();d=g.slider("option","min");
f=g.slider("option","max");a?(h=d,g=f):(h=g.slider("values",0),g=g.slider("values",1));b=new jQuery.fn.jplist.controls.RangeSlider.statusRelatedData(b,d,f,h,g);return b=new jQuery.fn.jplist.models.Status(c.name,c.action,c.type,b,c.cookies)};jQuery.fn.jplist.controls.RangeSlider.setStatus=function(a,c,b){b=null;var e,f,h;b=c.$control.data("jplist-ui-slider");f=c.$control.find('[data-type="prev-value"]');h=c.$control.find('[data-type="next-value"]');d.isNumeric(a.data.prev)&&d.isNumeric(a.data.next)&&
(e=Number(a.data.prev),a=Number(a.data.next),!isNaN(e)&&!isNaN(a)&&(b.slider("values",0)!=e&&b.slider("values",0,e),b.slider("values",1)!=a&&b.slider("values",1,a)));(c=c.controlTypeOptions)&&c.set_values(b,f,h)};jQuery.fn.jplist.controls.RangeSlider.initEvents=function(a){var c=null,c=a.$control.data("jplist-ui-slider");c.on("slidechange",function(b,c){a.events.lastStatus=jQuery.fn.jplist.controls.RangeSlider.getStatus(!1,a);a.$jplistBox.trigger(a.options.force_ask_event,[!1])})}})(jQuery);
